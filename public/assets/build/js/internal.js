"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}$(document).ready(function(){var e={time:200,desktopLgSize:1910,desktopMdSize:1600,desktopSize:1480,desktopSmSize:1280,tabletLgSize:1024,tabletSize:768,mobileLgSize:640,mobileSize:480,lang:$("html").attr("lang")},t={breakpointDesktopLg:window.matchMedia("(max-width: ".concat(e.desktopLgSize-1,"px)")),breakpointDesktopMd:window.matchMedia("(max-width: ".concat(e.desktopMdSize-1,"px)")),breakpointDesktop:window.matchMedia("(max-width: ".concat(e.desktopSize-1,"px)")),breakpointDesktopSm:window.matchMedia("(max-width: ".concat(e.desktopSmSize-1,"px)")),breakpointTabletLg:window.matchMedia("(max-width: ".concat(e.tabletLgSize-1,"px)")),breakpointTablet:window.matchMedia("(max-width: ".concat(e.tabletSize-1,"px)")),breakpointMobileLgSize:window.matchMedia("(max-width: ".concat(e.mobileLgSize-1,"px)")),breakpointMobile:window.matchMedia("(max-width: ".concat(e.mobileSize-1,"px)"))};$.extend(!0,e,t),$(window).on("load",function(){0<$("textarea").length&&autosize($("textarea"))}),$.fn.extend({animateCss:function(e,t){var a=function(e){var t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var a in t)if(void 0!==e.style[a])return t[a]}(document.createElement("div"));return this.addClass("animated "+e).one(a,function(){$(this).removeClass("animated "+e),"function"==typeof t&&t()}),this}});var a="ru-RU"==e.lang?"ru":"en";Parsley.setLocale(a),$.extend(Parsley.options,{trigger:"blur change",validationThreshold:"0",errorsWrapper:"<div></div>",errorTemplate:'<p class="parsley-error-message"></p>',classHandler:function(e){var t,a=e.$element,n=a.attr("type");return"checkbox"==n||"radio"==n?t=a:a.hasClass("select2-hidden-accessible")&&(t=$(".select2-selection--single",a.next(".select2"))),t},errorsContainer:function(e){var t,a=e.$element,n=a.attr("type");return"checkbox"==n||"radio"==n?t=$('[name="'.concat(a.attr("name"),'"]:last + label')).next(".errors-placement"):a.hasClass("select2-hidden-accessible")?t=a.next(".select2").next(".errors-placement"):"file"==n?t=a.closest(".custom-file").next(".errors-placement"):"is_recaptcha_success"==a.attr("name")&&(t=a.parent().next(".g-recaptcha").next(".errors-placement")),t}}),Parsley.addValidator("nameRu",{validateString:function(e){return/^[а-яё\- ]*$/i.test(e)},messages:{ru:'Cимволы А-Я, а-я, " ", "-"',en:'Only simbols А-Я, а-я, " ", "-"'}}),Parsley.addValidator("nameEn",{validateString:function(e){return/^[a-z\- ]*$/i.test(e)},messages:{ru:'Cимволы A-Z, a-z, " ", "-"',en:'Only simbols A-Z, a-z, " ", "-"'}}),Parsley.addValidator("name",{validateString:function(e){return/^[а-яёa-z\- ]*$/i.test(e)},messages:{ru:'Cимволы A-Z, a-z, А-Я, а-я, " ", "-"',en:'Only simbols A-Z, a-z, А-Я, а-я, " ", "-"'}}),Parsley.addValidator("numLetterRu",{validateString:function(e){return/^[0-9а-яё]*$/i.test(e)},messages:{ru:"Cимволы А-Я, а-я, 0-9",en:"Only simbols А-Я, а-я, 0-9"}}),Parsley.addValidator("numLetter",{validateString:function(e){return/^[а-яёa-z0-9]*$/i.test(e)},messages:{ru:"Cимволы A-Z, a-z, А-Я, а-я, 0-9",en:"Only simbols A-Z, a-z, А-Я, а-я, 0-9"}}),Parsley.addValidator("phone",{validateString:function(e){return/^[-+0-9() ]*$/i.test(e)},messages:{ru:"Некорректный телефонный номер",en:"Incorrect phone number"}}),Parsley.addValidator("number",{validateString:function(e){return/^[0-9]*$/i.test(e)},messages:{ru:"Cимволы 0-9",en:"Only simbols 0-9"}}),Parsley.addValidator("email",{validateString:function(e){return/^([A-Za-zА-Яа-я0-9\-](\.|_|-){0,1})+[A-Za-zА-Яа-я0-9\-]\@([A-Za-zА-Яа-я0-9\-])+((\.){0,1}[A-Za-zА-Яа-я0-9\-]){1,}\.[a-zа-я0-9\-]{2,}$/.test(e)},messages:{ru:"Некорректный почтовый адрес",en:"Incorrect email address"}}),Parsley.addValidator("date",{validateString:function(e){var t,a,n,i,s=/^(?:(?:31(\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\.)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{4})$/,r=/(\d{1,2})\.(\d{1,2})\.(\d{4})/,l=arguments[2].$element.data("dateMin"),o=arguments[2].$element.data("dateMax");return l&&(i=l.match(r))&&(t=new Date(+i[3],i[2]-1,+i[1])),o&&(i=o.match(r))&&(a=new Date(+i[3],i[2]-1,+i[1])),(i=e.match(r))&&(n=new Date(+i[3],i[2]-1,+i[1])),s.test(e)&&(!t||t<=n)&&(!a||n<=a)},messages:{ru:"Некорректная дата",en:"Incorrect date"}}),Parsley.addValidator("fileMaxSize",{validateString:function(e,t,a){var n=a.$element[0].files;return 1!=n.length||n[0].size<=1024*t},requirementType:"integer",messages:{ru:"Файл должен весить не более, чем %s Kb",en:"File size can't be more then %s Kb"}}),Parsley.addValidator("fileExtension",{validateString:function(e,t){for(var a=e.split(".").pop(),n=t.split(", "),i=!1,s=0;s<n.length;s++)if(a===n[s]){i=!0;break}return i},messages:{ru:"Допустимы только файлы формата %s",en:"Available extensions are %s"}}),Parsley.on("field:init",function(){var e,t=this.$element,a=t.attr("type"),n=$("<div/>").addClass("errors-placement");"checkbox"==a||"radio"==a?(e=$('[name="'.concat(t.attr("name"),'"]:last + label')),e.next(".errors-placement").length||e.after(n)):t.hasClass("select2-hidden-accessible")?(e=t.next(".select2"),e.next(".errors-placement").length||e.after(n)):"file"==a?(e=t.closest(".custom-file"),e.next(".errors-placement").length||e.after(n)):t.closest(".js-datepicker-range").length?(e=t.closest(".js-datepicker-range"),e.next(".errors-placement").length||e.after(n)):"is_recaptcha_success"==t.attr("name")&&(e=t.parent().next(".g-recaptcha"),e.next(".errors-placement").length||e.after(n))}),Parsley.on("field:validated",function(){$(this.element)}),$('form[data-validate="true"]').parsley(),$(".js-collapse-btn").length&&$(document).on("click",".js-collapse-btn",function(e){var t=$(e.currentTarget),a=t.closest(".js-collapse").find(".js-collapse-body");t.hasClass("is-active")?(t.removeClass("is-active"),a.slideUp("fast")):(t.addClass("is-active"),a.slideDown("fast"))}),$(".js-phone-mask").inputmask("+7(999) 999-99-99",{clearMaskOnLostFocus:!0,showMaskOnHover:!1});var n=function(e){var t=this;t.init=function(e){e.each(function(){if(!$(this).hasClass("select2-hidden-accessible")){var e,t=$(this).data("search");e=t?1:1/0,$(this).select2({minimumResultsForSearch:e,selectOnBlur:!0,dropdownCssClass:"error",language:{noResults:function(){return"Совпадений не найдено"}}}),$(this).on("change",function(e){$(this).find('option[value="'.concat($(this).value,'"]')).click()})}})},t.update=function(e){e.select2("destroy"),t.init(e)},t.init(e)},l=(new n($("select")),{dateFormat:"dd.mm.yy",showOtherMonths:!0}),i=function(){var e=$(".js-datepicker");e.each(function(){var e=$(this).data("date-min"),t=$(this).data("date-max"),a=$(this).data("show-m-y");if("current"===t||"current"===e){var n=new Date,i=n.getDate();i<10&&(i="0"+i.toString());var s=i+"."+(n.getMonth()+1)+"."+n.getFullYear();"current"===t?t=s:e=s}var r={minDate:e||null,maxDate:t||null,onSelect:function(){$(this).change(),$(this).closest(".field").addClass("is-filled")}};a&&(r["changeYear"]=!0,r["yearRange"]="c-100:c",r["changeMonth"]=!0),$.extend(!0,r,l),$(this).datepicker(r)}),$(document).on("focus",".js-datepicker",function(){setTimeout(function(){$(".ui-datepicker").find("select").length&&$(".ui-datepicker").find("select").select2({selectOnBlur:!0,dropdownCssClass:"error",minimumResultsForSearch:1/0})},10)})},s=(new i,$(".js-mobile-menu")),r=$(".js-cart-modal");function openModal(e){e.addClass("is-active").animateCss("slideInRight"),$("body").addClass("has-overlay"),lockDocument()}function hideModal(e){e.animateCss("slideOutRight",function(){e.removeClass("is-active"),$("body").removeClass("has-overlay"),unlockDocument()})}function unlockDocument(){$("html").removeClass("is-locked")}function lockDocument(){$("html").addClass("is-locked")}$(document).on("click",".js-menu-btn",function(){openModal(s)}),$(document).on("click",".js-menu-close",function(){hideModal(s)}),$(document).on("click",".js-cart-btn",function(e){e.preventDefault(),openModal(r)}),$(document).on("click",".js-cart-close",function(){hideModal(r)});var o=$(".js-header");$(document).on("mouseover",".js-header-dropdown-btn",function(e){var t=$(e.currentTarget),a=t.attr("data-category");if($(".js-header-dropdown").removeClass("is-active"),o.removeClass("is-active"),$("body").removeClass("has-overlay"),a){var n=$("[data-dropdown-category='".concat(a,"']"));n.addClass("is-active"),o.addClass("is-active"),$("body").addClass("has-overlay")}}),$(document).on("mouseleave",".js-header-dropdown",function(e){$(".js-header-dropdown").removeClass("is-active"),o.removeClass("is-active"),$("body").removeClass("has-overlay")}),$(".js-tabs-link").length&&$(document).on("click",".js-tabs-link",function(e){var t=$(e.currentTarget);if(!t.hasClass("is-active")){var a=t.closest(".js-tabs"),n=a.find(".js-tabs-link"),i=a.find(".js-tabs-item");n.removeClass("is-active"),i.removeClass("is-active");var s=i.find("[data-required]");s.length&&(s.prop("data-required",!1),s.prop("required",!1),s.val("")),t.addClass("is-active");var r=$(t.data("tab"));r.addClass("is-active"),s=r.find("[data-required]"),s.length&&(s.prop("data-required",!0),s.prop("required",!0))}});var c=function(){function Spinner(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.$block,a=e.value,n=void 0===a?0:a,i=e.min,s=void 0===i?-1/0:i,r=e.max,l=void 0===r?1/0:r,o=e.step,c=void 0===o?1:o,d=e.precision;_classCallCheck(this,Spinner),this.$block=t,this.elements={$dec:$(".spinner__btn--dec",this.$block),$inc:$(".spinner__btn--inc",this.$block),$input:$(".spinner__input",this.$block)},this.value=+n,this.min=+s,this.max=+l,this.step=+c,this.precision=+d}return _createClass(Spinner,[{key:"init",value:function(){this.updateButtons()}},{key:"updateButtons",value:function(){this.elements.$dec.prop("disabled",!1),this.elements.$inc.prop("disabled",!1),this.value<this.min+this.step&&this.elements.$dec.prop("disabled",!0),this.max-this.step<this.value&&this.elements.$inc.prop("disabled",!0)}},{key:"disableSpinner",value:function(){this.elements.$dec.prop("disabled",!0),this.elements.$inc.prop("disabled",!0),this.elements.$input.prop("disabled",!0),this.$block.addClass("is-disabled")}},{key:"enableSpinner",value:function(){this.init(),this.elements.$input.prop("disabled",!1),this.$block.removeClass("is-disabled")}},{key:"changeValue",value:function(e){this.value=e,this.$block.attr("data-value",e),this.elements.$input.attr("value",e),this.elements.$input.val(e)}},{key:"changeMin",value:function(e){this.min=e,this.$block.attr("data-min",e)}},{key:"changeMax",value:function(e){this.max=e,this.$block.attr("data-max",e)}}],[{key:"getInstance",value:function(t){return Spinner.instances.find(function(e){return e.$block.is(t)})}},{key:"create",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:$(".spinner");e.each(function(e,t){var a=$(t);if(!Spinner.getInstance(a)){var n=new Spinner({$block:a,value:a.attr("data-value"),min:a.attr("data-min"),max:a.attr("data-max"),step:a.attr("data-step"),precision:a.attr("data-precision")});a.hasClass("is-disabled")?n.disableSpinner():n.init(),Spinner.instances.push(n)}})}},{key:"remove",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:$(".spinner");e.each(function(e,t){var a=$(t),n=Spinner.instances.findIndex(function(e){return e.$block.is(a)});Spinner.instances.splice(n,1)})}}]),Spinner}();_defineProperty(c,"instances",[]),$(document).on("click",".spinner__btn--dec",handleDecClick),$(document).on("click",".spinner__btn--inc",handleIncClick),$(document).on("input",".spinner__input",handleInput);c.create();function handleDecClick(e){var t=e.currentTarget,a=$(t),n=a.closest(".spinner"),i=c.getInstance(n),s=i.value-i.step;i.precision&&(s=parseFloat(s.toFixed(i.precision))),i.changeValue(s),i.updateButtons()}function handleIncClick(e){var t=e.currentTarget,a=$(t),n=a.closest(".spinner"),i=c.getInstance(n),s=i.value+i.step;i.precision&&(s=parseFloat(s.toFixed(i.precision))),i.changeValue(s),i.updateButtons()}function handleInput(e){var t=e.currentTarget,a=$(t),n=a.closest(".spinner"),i=c.getInstance(n),s=i.elements.$input,r=+s.val();(!s.val().length||r<i.min||i.max<r)&&(r=i.value),i.changeValue(r),i.updateButtons()}function initCarousels(){var e=$(".js-news-carousel");e.length&&!e.hasClass("slick-initialized")&&e.slick({arrows:!1,infinite:!0,slidesToShow:1,centerMode:!1,variableWidth:!0,mobileFirst:!0,responsive:[{breakpoint:767,settings:{}},{breakpoint:1023,settings:"unslick"}]});var t=$(".js-bikes-carousel");t.length&&!t.hasClass("slick-initialized")&&(t.slick({arrows:!1,infinite:!0,slidesToShow:1,centerMode:!0,variableWidth:!0,mobileFirst:!0,responsive:[{breakpoint:767,settings:"unslick"}]}),t.find(".slick-active").find("input").prop("checked",!0),t.on("afterChange",function(){t.find(".slick-active").find("input").prop("checked",!0)}));var a=$(".js-categories-carousel");a.length&&!a.hasClass("slick-initialized")&&a.slick({arrows:!1,infinite:!1,slidesToShow:1,centerMode:!0,centerPadding:"0",variableWidth:!1,dots:!0,mobileFirst:!0,responsive:[{breakpoint:767,settings:"unslick"}]});var n=$(".js-index-main-carousel");n.length&&!n.hasClass("slick-initialized")&&n.slick({arrows:!1,infinite:!1,slidesToShow:1,centerMode:!0,centerPadding:"0",variableWidth:!1,dots:!0});var i=$(".js-product-carousel");i.length&&!i.hasClass("slick-initialized")&&i.slick({arrows:!0,infinite:!0,slidesToShow:1,prevArrow:'<button type="button" class="btn-arrow btn-arrow--prev product-page__carousel-prev"><svg class="icon icon--arrow-next"><use xlink:href="#icon-arrow_next"></use></svg></button>',nextArrow:'<button type="button" class="btn-arrow product-page__carousel-next"><svg class="icon icon--arrow-next"><use xlink:href="#icon-arrow_next"></use></svg></button>',dots:!1,responsive:[{breakpoint:768,settings:{arrows:!1,dots:!0}}]});var s=$(".js-similar-carousel");s.length&&!s.hasClass("slick-initialized")&&s.slick({arrows:!1,infinite:!1,slidesToShow:1,centerMode:!0,centerPadding:"0",variableWidth:!1,dots:!0,mobileFirst:!0,responsive:[{breakpoint:639,settings:"unslick"}]});var r=$(".js-picture-carousel");r.length&&!r.hasClass("slick-initialized")&&r.slick({arrows:!1,infinite:!1,slidesToShow:1,slidesToScroll:1,variableWidth:!0});var l=$(".js-bike-card-carousel");l.length&&!l.hasClass("slick-initialized")&&(l.each(function(e,t){$(t).slick({slidesToScroll:1,slidesToShow:1,arrows:!1,dots:!1,fade:!0,responsive:[{breakpoint:767,settings:{fade:!1,dots:!0}}]})}),$(document).on("click",".js-bike-card-slide-btn",function(e){var t=$(e.currentTarget),a=t.closest(".bike-card"),n=a.find(".js-bike-card-carousel"),i=t.data("slide");a.find(".js-bike-card-slide-btn").removeClass("is-active"),t.addClass("is-active"),n.slick("slickGoTo",i)}))}initCarousels(),$(window).on("resize",initCarousels);var d=$(".js-btn-up");d.length&&($(document).on("click",".js-btn-up",function(){$("html, body").animate({scrollTop:0})}),$(window).on("scroll",function(){$(window).width()>=e.tabletLgSize&&(50<$(window).scrollTop()?d.show():d.hide())}));var u=$(".js-filter-modal");u.length&&($(document).on("click",".js-filter-btn",function(e){u.addClass("is-active").animateCss("slideInRight"),$("body").addClass("has-overlay")}),$(document).on("click",".js-filter-close",function(e){u.animateCss("slideOutRight",function(){u.removeClass("is-active"),$("body").removeClass("has-overlay")})})),0<$(".js-label-animation").length&&$(".js-label-animation").each(function(e,t){var a=$(t).find("input, textarea");(""!=$(a).val().trim()||$(a).is(":placeholder-shown"))&&$(t).addClass("is-filled"),$(a).on("focus",function(e){$(t).addClass("is-filled")}).on("blur",function(e){""!==$(this).val().trim()||$(a).is(":placeholder-shown")||$(t).removeClass("is-filled")})});var p={arrow:!1,allowHTML:!1,animateFill:!1,placement:"right-center",distance:20,theme:"tooltip"};function initTooltips(){$("[data-tooltip]").each(function(e,t){var a={content:$(t).attr("data-tooltip")};$(t).data("click")&&(a["trigger"]="click keyup",a["interactive"]=!0),tippy(t,Object.assign({},p,a))})}initTooltips();var m={lat:56.059695,lng:37.144142},h=[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}];function initMap(){var e=new google.maps.Map(document.getElementById("map"),{zoom:14,center:m,styles:h,zoomControl:!0,mapTypeControl:!1,scaleControl:!0,streetViewControl:!1,rotateControl:!1,fullscreenControl:!0}),t={url:"img/svg/point.svg",size:new google.maps.Size(72,72),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(36,36)};new google.maps.Marker({position:m,icon:t,map:e})}window.initMap=initMap});